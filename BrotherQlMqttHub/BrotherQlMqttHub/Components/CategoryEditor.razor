@using Microsoft.Extensions.DependencyInjection
@using BrotherQlMqttHub.Data
@using BrotherQlMqttHub.Components
@using System.Diagnostics
@inject IServiceScopeFactory scopeFactory

<RadzenCard>
<h5>@Category.ShortDescription</h5>
<table class="table table-borderless text-nowrap">
    <tr>
        <td class="align-middle font-weight-bold">Name</td>
        <td class="w-100 align-middle"><DisplayOrEdit Text="@Category.ShortDescription"
                           IsEditable="true" /></td>
    </tr>

    <tr>
        <td class="align-middle font-weight-bold">Description</td>
        <td class="align-middle"><DisplayOrEdit Text="@Category.Description"
                           IsEditable="true"/></td>
    </tr>

    <tr>
        <td class="align-top font-weight-bold">Tags</td>
        <td class="align-top">
            @foreach (var tag in Category.Tags)
            {
                <div class="alert alert-tag alert-secondary">
                    <div>
                    <button type="button" class="close" aria-label="Close" @onclick="@(() => DeleteTag(tag.Id))">
                        <span aria-hidden="true">&times;</span>
                    </button>

                    </div>
                    <div class="mr-2">
                    <DisplayOrEdit IsEditable="true"
                                   Text="@tag.Name" />

                    </div>

                </div>
            }
        </td>
    </tr>
</table>


</RadzenCard>
@code {
    [Parameter]
    public TagCategory Category { get; set; }

    private async Task DeleteTag(int tagId)
    {
        Debug.WriteLine($"Delete {tagId}");

    }
}
